(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{23:function(t,e,n){t.exports={Section:"Section_Section__1pv37",Title:"Section_Title__1BVO7"}},25:function(t,e,n){t.exports={Label:"Filter_Label__2wFcp",Input:"Filter_Input__3K808"}},34:function(t){t.exports=JSON.parse('[{"id":"1","name":"name","label":"Name*","type":"text","pattern":"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([\' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$","title":"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d\'Artagnan","required":true},{"id":"2","name":"number","label":"Number*","type":"tel","pattern":"\\\\+?\\\\d{1,4}?[-.\\\\s]?\\\\(?\\\\d{1,3}?\\\\)?[-.\\\\s]?\\\\d{1,4}[-.\\\\s]?\\\\d{1,4}[-.\\\\s]?\\\\d{1,9}","title":"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +","required":true},{"id":"3","name":"email","label":"Email","type":"email","required":false}]')},36:function(t,e,n){t.exports={contactsList:"ContactList_contactsList__dJfZQ"}},37:function(t,e,n){t.exports={Text:"EmptyText_Text__e1qdg"}},45:function(t,e,n){},46:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"fetchContacts",(function(){return k})),n.d(a,"addContact",(function(){return F})),n.d(a,"deleteContact",(function(){return y}));var c={};n.r(c),n.d(c,"getContacts",(function(){return w})),n.d(c,"getFilter",(function(){return S})),n.d(c,"getLoading",(function(){return A})),n.d(c,"getFilteredContacts",(function(){return q}));var r={};n.r(r),n.d(r,"addContactRequest",(function(){return T})),n.d(r,"addContactSuccess",(function(){return B})),n.d(r,"addContactError",(function(){return E})),n.d(r,"deleteContactRequest",(function(){return z})),n.d(r,"deleteContactSuccess",(function(){return R})),n.d(r,"deleteContactError",(function(){return W})),n.d(r,"changeFilter",(function(){return Q}));var o=n(1),i=n.n(o),s=n(16),u=n.n(s),d=(n(45),n(46),n(23)),l=n.n(d),b=n(2),j=function(t){var e=t.title,n=t.children;return Object(b.jsxs)("section",{className:l.a.Section,children:[e&&Object(b.jsx)("h1",{className:l.a.Title,children:e}),n]})},m=n(21),p=n(9),f=n.n(p),O=n(34),_=n(19),h=n(18),g=n(3),C=n(20),x=n(10),v=n.n(x),L=n(4),N=n(13),I=n.n(N);I.a.defaults.baseURL="https://61f08b4e732d93001778eab3.mockapi.io";var k=Object(L.c)("contacts/fetchContacts",function(){var t=Object(C.a)(v.a.mark((function t(e,n){var a,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,I.a.get("/contacts");case 4:return c=t.sent,t.abrupt("return",c.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",a(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),F=Object(L.c)("contacts/addContact",function(){var t=Object(C.a)(v.a.mark((function t(e,n){var a,c,r,o,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.name,c=e.number,r=e.email,o=n.rejectWithValue,t.prev=2,i={name:a,number:c,email:r},t.next=6,I.a.post("/contacts",i);case 6:return s=t.sent,t.abrupt("return",s.data);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",o(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),y=Object(L.c)("contacts/deleteContact",function(){var t=Object(C.a)(v.a.mark((function t(e,n){var a,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,I.a.delete("/contacts/".concat(e));case 4:return c=t.sent,t.abrupt("return",c.data.id);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",a(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),w=function(t){return t.contacts},S=function(t){return t.filter},A=function(t){return t.loading},q=function(t){var e=t.contacts,n=t.filter.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))},T=Object(L.b)("contacts/addContactRequest"),B=Object(L.b)("contacts/addContactSuccess"),E=Object(L.b)("contacts/addContactError"),z=Object(L.b)("contacts/deleteContactRequest"),R=Object(L.b)("contacts/deleteContactSuccess"),W=Object(L.b)("contacts/deleteContactError"),Q=Object(L.b)("contacts/ChangeFilter"),J=n(40);function M(){var t=Object(o.useState)(""),e=Object(m.a)(t,2),n=e[0],i=e[1],s=Object(o.useState)(""),u=Object(m.a)(s,2),d=u[0],l=u[1],j=Object(o.useState)(""),p=Object(m.a)(j,2),C=p[0],x=p[1],v=Object(g.c)(c.getContacts),L=Object(g.b)(),N=Object(g.c)(c.getLoading),I=function(t){switch(t.target.name){case"name":i(t.target.value);break;case"number":l(t.target.value);break;case"email":x(t.target.value);break;default:return}},k=function(){i(""),l(""),x("")};return Object(b.jsxs)("form",{className:f.a.Form,autoComplete:"on",onSubmit:function(t){t.preventDefault();var e=v.some((function(t){return t.name.toLowerCase()===n.toLowerCase()}));if(e)alert("".concat(n," is already exists in contacts"));else{var c={id:Object(J.a)(),name:n,number:d,email:C};L(a.addContact(c))}L(r.changeFilter("")),t.currentTarget.reset(),k()},children:[O.map((function(t){var e={name:n,number:d,email:C};return Object(b.jsx)("div",{children:Object(b.jsxs)("label",{className:f.a.Label,children:[t.label,Object(b.jsx)("input",{id:t.id,value:e[t.name],onChange:I,className:f.a.Input,type:t.type,name:t.name,pattern:t.pattern,title:t.title,required:t.required,autoComplete:"true"})]})},t.name)})),Object(b.jsx)("p",{className:f.a.Reminder,children:"Fields marked with * are required"}),Object(b.jsxs)("button",{className:f.a.Button,type:"submit",disabled:"adding"===N,children:["adding"===N&&Object(b.jsx)(h.a,{size:14,className:f.a.IconSpinner}),"adding"!==N&&Object(b.jsx)(_.b,{className:f.a.Icon,size:16}),"Add contact"]})]})}var V=n(36),Z=n.n(V),Y=n(8),P=n.n(Y);var X=function(t){var e=t.id,n=t.name,a=t.number,r=t.email,o=t.onClick,i=Object(g.c)(c.getLoading);return Object(b.jsxs)("li",{className:P.a.Item,children:[Object(b.jsxs)("div",{className:P.a.Wrapper,children:[Object(b.jsxs)("p",{className:P.a.Name,children:[n,":"]}),Object(b.jsx)("p",{className:P.a.Number,children:Object(b.jsx)("a",{className:P.a.TelLink,href:"tel:".concat(a),children:a})}),Object(b.jsx)("p",{className:P.a.Email,children:Object(b.jsx)("a",{className:P.a.MailLink,href:"mailto:".concat(r),children:r})})]}),Object(b.jsxs)("button",{type:"button",onClick:function(){return o()},className:P.a.Button,children:[i!==e&&Object(b.jsx)(_.a,{size:18}),i===e&&Object(b.jsx)(h.a,{size:18,className:P.a.IconSpinner})]})]})};function D(){var t=Object(g.c)(c.getFilteredContacts),e=Object(g.b)(),n=Object(g.c)(c.getLoading);return Object(o.useEffect)((function(){e(a.fetchContacts())}),[e]),Object(b.jsxs)(b.Fragment,{children:["loadingContacts"===n&&Object(b.jsx)("p",{children:"Loading..."}),Object(b.jsx)("ul",{className:Z.a.contactsList,children:t&&t.map((function(t){return Object(b.jsx)(X,{id:t.id,name:t.name,number:t.number,email:t.email,onClick:function(){return n=t.id,e(a.deleteContact(n));var n}},t.id)}))})]})}var G=n(25),K=n.n(G);function U(){var t=Object(g.c)(c.getFilter),e=Object(g.c)(c.getContacts).length,n=Object(g.b)();return Object(b.jsxs)("label",{className:K.a.Label,children:["Find contact by name in ",e," contacts",Object(b.jsx)("input",{className:K.a.Input,type:"text",value:t,onChange:function(t){return n(Q(t.target.value))}})]})}var $=n(37),H=n.n($),tt=function(){return Object(b.jsx)("p",{className:H.a.Text,children:"Your contact list is empty"})};function et(){var t=Object(g.c)(c.getContacts).length,e=Object(g.c)(c.getLoading);return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{title:"Phonebook",children:Object(b.jsx)(M,{})}),Object(b.jsxs)(j,{title:"Contacts",children:[t>1&&Object(b.jsx)(U,{}),Object(b.jsx)(D,{}),0===t&&"notLoading"===e&&Object(b.jsx)(tt,{})]})]})}var nt,at,ct,rt=n(5),ot=n(39),it=n(6),st=Object(L.d)([],(nt={},Object(rt.a)(nt,k.fulfilled,(function(t,e){return e.payload})),Object(rt.a)(nt,F.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(ot.a)(t),[n])})),Object(rt.a)(nt,y.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),nt)),ut=Object(L.d)("",Object(rt.a)({},Q,(function(t,e){return e.payload}))),dt=Object(L.d)("notLoading",(at={},Object(rt.a)(at,k.pending,(function(){return"loadingContacts"})),Object(rt.a)(at,k.fulfilled,(function(){return"notLoading"})),Object(rt.a)(at,k.rejected,(function(){return"notLoading"})),Object(rt.a)(at,F.pending,(function(){return"adding"})),Object(rt.a)(at,F.fulfilled,(function(){return"notLoading"})),Object(rt.a)(at,F.rejected,(function(){return"notLoading"})),Object(rt.a)(at,y.pending,(function(t,e){return e.meta.arg})),Object(rt.a)(at,y.fulfilled,(function(){return"notLoading"})),Object(rt.a)(at,y.rejected,(function(){return"notLoading"})),at)),lt=Object(L.d)(null,(ct={},Object(rt.a)(ct,k.rejected,(function(t,e){return e.payload})),Object(rt.a)(ct,k.pending,(function(){return null})),ct)),bt=Object(it.b)({contacts:st,filter:ut,loading:dt,error:lt}),jt=n(38),mt=n.n(jt),pt=n(11),ft=Object(L.a)({reducer:bt,middleware:function(t){return t({serializableCheck:{ignoredActions:[pt.a,pt.f,pt.b,pt.c,pt.d,pt.e]}}).concat(mt.a)},devTools:!1});u.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(g.a,{store:ft,children:Object(b.jsx)(et,{})})}),document.getElementById("root"))},8:function(t,e,n){t.exports={Item:"ContactItem_Item__1pcj9",Wrapper:"ContactItem_Wrapper__2weQw",Name:"ContactItem_Name__h_mV3",Number:"ContactItem_Number__1bOX1",Email:"ContactItem_Email__Lr4B3",TelLink:"ContactItem_TelLink__3fIY5",MailLink:"ContactItem_MailLink__3LXym",Button:"ContactItem_Button__1eZwY",IconSpinner:"ContactItem_IconSpinner__1ad-7",spinner:"ContactItem_spinner__2voQN"}},9:function(t,e,n){t.exports={Form:"AddContactForm_Form__3kQ1y",Label:"AddContactForm_Label__1qIh0",Input:"AddContactForm_Input__ArS8c",Reminder:"AddContactForm_Reminder__3kQFG",Button:"AddContactForm_Button__3Q53a",Icon:"AddContactForm_Icon__zB42n",IconSpinner:"AddContactForm_IconSpinner__3W67k",spinner:"AddContactForm_spinner__1t7c7"}}},[[71,1,2]]]);
//# sourceMappingURL=main.9c63320c.chunk.js.map